COMMAND="lun.sh"
RESTAURANTS_FILE="${HOME}/.lunch/restaurants.bash"

_lunch()
{
    if [ ! -e ${RESTAURANTS_FILE} ]
    then
        return 1
    fi

    local cur restaurants

    COMPREPLY=()
    cur="${COMP_WORDS[COMP_CWORD]}"
    restaurants="$(cat ${RESTAURANTS_FILE})"

    COMPREPLY=( $(compgen -W "$restaurants" -- ${cur}) )

    return 0
}

complete -F _lunch ${COMMAND}
